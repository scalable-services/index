syntax = "proto3";

//#options
option java_multiple_files = true;
option java_package = "services.scalable.index.grpc";
option java_outer_classname = "ClientServiceProto";

package services.scalable.index;

message Tuple {
  bytes key = 1;
  bytes value = 2;
}

message LeafBlock {
  string id = 1;
  repeated Tuple tuples = 2;

  oneof optional_root {
    string root = 3;
  }

  /*oneof optional_parent {
    string parent = 3;
  }

  int32 pos = 4;*/
}

message Pointer {
  bytes key = 1;
  string link = 2;
}

message MetaBlock {
  string id = 1;
  repeated Pointer pointers = 2;

  oneof optional_root {
    string root = 3;
  }

  /*oneof optional_parent {
    string parent = 3;
  }

  int32 pos = 4;*/
}